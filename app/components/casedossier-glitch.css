/* ===============================
   CASE DOSSIER – QUANTUM GLITCH SKIN
   Inspired by CodePen oNQPJbR
   Non-destructive overlay layer
   =============================== */

:root {
  --qd-bg: #05080f;
  --qd-panel: rgba(8, 14, 30, 0.92);
  --qd-cyan: #69f8ff;
  --qd-neon: #39ff14;
  --qd-magenta: #ff2aa1;
  --qd-red: #ff003c;
  --qd-yellow: #f9f002;
  --qd-text: #e8f7ff;

  --qd-glow: 0 0 8px rgba(105,248,255,.6),
             0 0 18px rgba(105,248,255,.35);

  --qd-glitch-fast: 0.8s;
  --qd-glitch-slow: 3s;
}

/* ===============================
   BASE WRAPPER
   =============================== */

.case-dossier.quantum-glitch {
  background: radial-gradient(
    ellipse at center,
    #060b18 0%,
    #03050c 70%,
    #000 100%
  );
  color: var(--qd-text);
  position: relative;
  overflow: hidden;
}

/* CRT scanlines */
.case-dossier.quantum-glitch::before {
  content: "";
  pointer-events: none;
  position: absolute;
  inset: 0;
  background:
    repeating-linear-gradient(
      to bottom,
      rgba(255,255,255,0.03) 0px,
      rgba(255,255,255,0.03) 1px,
      transparent 2px,
      transparent 4px
    );
  mix-blend-mode: overlay;
  opacity: 0.35;
  z-index: 5;
}

/* subtle RGB shift */
.case-dossier.quantum-glitch::after {
  content: "";
  pointer-events: none;
  position: absolute;
  inset: 0;
  background: linear-gradient(
    90deg,
    rgba(255,0,0,.04),
    rgba(0,255,255,.04),
    rgba(255,0,255,.04)
  );
  mix-blend-mode: screen;
  animation: qd-chroma 6s infinite alternate;
  z-index: 6;
}

@keyframes qd-chroma {
  0% { opacity: .15; }
  100% { opacity: .35; }
}

/* ===============================
   PANELS / SECTIONS
   =============================== */

.case-dossier.quantum-glitch section,
.case-dossier.quantum-glitch .panel,
.case-dossier.quantum-glitch .card {
  background: var(--qd-panel);
  border: 1px solid rgba(105,248,255,.4);
  box-shadow: var(--qd-glow);
  clip-path: polygon(
    0 10px,
    10px 0,
    calc(100% - 10px) 0,
    100% 10px,
    100% calc(100% - 10px),
    calc(100% - 10px) 100%,
    10px 100%,
    0 calc(100% - 10px)
  );
  position: relative;
}

/* corner accent */
.case-dossier.quantum-glitch section::after,
.case-dossier.quantum-glitch .panel::after {
  content: "";
  position: absolute;
  top: -1px;
  right: -1px;
  width: 22px;
  height: 22px;
  border-top: 2px solid var(--qd-neon);
  border-right: 2px solid var(--qd-neon);
}

/* ===============================
   HEADERS – GLITCH STYLE
   =============================== */

.case-dossier.quantum-glitch h1,
.case-dossier.quantum-glitch h2,
.case-dossier.quantum-glitch h3 {
  position: relative;
  text-transform: uppercase;
  letter-spacing: 2px;
  color: var(--qd-cyan);
  text-shadow:
    0 0 6px rgba(105,248,255,.7),
    0 0 18px rgba(105,248,255,.4);
}

/* glitch layers */
.case-dossier.quantum-glitch h1::before,
.case-dossier.quantum-glitch h1::after {
  content: attr(data-text);
  position: absolute;
  inset: 0;
  opacity: .8;
}

.case-dossier.quantum-glitch h1::before {
  color: var(--qd-magenta);
  transform: translate(2px, -1px);
  clip-path: polygon(0 0, 100% 0, 100% 40%, 0 35%);
  animation: qd-glitch-a var(--qd-glitch-fast) infinite linear;
}

.case-dossier.quantum-glitch h1::after {
  color: var(--qd-neon);
  transform: translate(-2px, 1px);
  clip-path: polygon(0 60%, 100% 55%, 100% 100%, 0 100%);
  animation: qd-glitch-b var(--qd-glitch-fast) infinite linear;
}

@keyframes qd-glitch-a {
  0% { transform: translate(2px,-1px); }
  20% { transform: translate(-1px,1px); }
  40% { transform: translate(3px,0); }
  100% { transform: translate(2px,-1px); }
}

@keyframes qd-glitch-b {
  0% { transform: translate(-2px,1px); }
  20% { transform: translate(1px,-1px); }
  40% { transform: translate(-3px,0); }
  100% { transform: translate(-2px,1px); }
}

/* ===============================
   TEXT / DOSSIER CONTENT
   =============================== */

.case-dossier.quantum-glitch p,
.case-dossier.quantum-glitch li {
  color: var(--qd-text);
  line-height: 1.5;
  text-shadow: 0 0 4px rgba(105,248,255,.15);
}

/* ===============================
   BUTTONS / ACTIONS
   =============================== */

.case-dossier.quantum-glitch button,
.case-dossier.quantum-glitch a.button {
  background: transparent;
  border: 1px solid var(--qd-cyan);
  color: var(--qd-cyan);
  padding: 14px 28px;
  letter-spacing: 2px;
  text-transform: uppercase;
  box-shadow: var(--qd-glow);
  position: relative;
  overflow: hidden;
}

.case-dossier.quantum-glitch button::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(
    120deg,
    transparent,
    rgba(105,248,255,.4),
    transparent
  );
  transform: translateX(-120%);
}

.case-dossier.quantum-glitch button:hover::after {
  animation: qd-scan 0.9s forwards;
}

@keyframes qd-scan {
  to { transform: translateX(120%); }
}
